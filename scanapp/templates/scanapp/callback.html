<!-- callback.html -->

<!-- token: {{ token }}<br />
uid: {{ uid }} -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <title>{% block title %}Viberr{% endblock %}</title> -->
    {% load staticfiles %}
    <!-- <link rel="shortcut icon" type="image/png" href="{%  static 'favicon.ico' %}"/> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="{% static 'scanapp/base.css' %}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.form/4.2.1/jquery.form.min.js" integrity="sha384-tIwI8+qJdZBtYYCKwRkjxBGQVZS3gGozr3CtI+5JF/oL1JmPEHzCEnIKbDbLTCer" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script src="{% static 'scanapp/js/plugin.js' %}"></script>
</head>
<body>
<div class="container-flud"> 
<div class="row">
<div class="col-md-3"></div>
<div class="col-md-4"></div>
<div class="col-md-4" id = "success" style="color: white;font-size: 13px;background-color: darkslategrey;border-radius: 5px; display: none;">
  Password Changed Successfully !
</div> 
</div>
</div>
<div class="container-flud"> 
<div class="row">
<div class="col-md-3"></div>
<div class="col-md-4"></div>
<div class="col-md-4" id = "error" style="color: white;font-size: 13px;background-color: darkslategrey;border-radius: 5px; display: none;">
  InValid Password ! / Authorization Timed Out !
</div> 
</div>
</div>

<div class="container"> 

<iframe width="0" height="0" border="0" name="dummyframe" id="dummyframe" style="display: none;"></iframe>
  <div id="contact" >
    <h3>Password Change !</h3>
    <h4>Enter your new password</h4>
    <!-- <a href="/admin" class = "back"><button name="submit" type="submit" id="contact-submit" class = "back" style="background-color: #4c96af; margin-bottom: 3%; display: none;">Back</button></a> -->
    <form id = "myForm" action="/rest-auth/password/reset/confirm/" method="post" target="dummyframe">
   
    <fieldset>
      <input placeholder="New Password" type="tel" tabindex="1" required name="new_password1">
    </fieldset>
    <fieldset>
      <input placeholder="Re Enter New Password" type="tel" tabindex="2" required name="new_password2">
    </fieldset>

    <input type="hidden" value = "{{ token }}" required name="token">
    <input type="hidden" value = "{{ uid }}" required name="uid">
    
      <button name="submit" type="submit" id="contact-submit" data-submit="...Sending" onclick="showBack();">Submit</button>
      <script>
      function showBack() {
        
      }

      $('#myForm')
      .ajaxForm({
        url : '/rest-auth/password/reset/confirm/', // or whatever
        dataType : 'json',
        success : function (response) {
            document.getElementById("success").style.display = "block";
            // document.getElementsByClassName("back").style.display= "block";
            $('#success').delay(4000).fadeOut(300);

        },
        error: function (response) {
            document.getElementById("error").style.display = "block";
            $('#error').delay(4000).fadeOut(300);
        },
    });
      </script>
    </fieldset>
    
  </form>
</div>
</body>
</html>
 <!-- <script>
  function onBodyLoad () {
    plugin.init();
  }
  window.addEventListener('load', onBodyLoad);
</script>

 -->

